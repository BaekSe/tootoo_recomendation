############################################
# tootoo_recomendation - environment template
# Copy to .env and fill in values.
############################################

# --- Core / DB (Required for worker + API) ---
DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DBNAME"

# --- LLM (Required for recommendations) ---
ANTHROPIC_API_KEY=""

# Optional LLM overrides
ANTHROPIC_BASE_URL="https://api.anthropic.com"
# Anthropic model selection
#
# Pick one based on cost/quality. Keep this list as a convenience; availability depends on your account.
#
# Claude 3.5 (Sonnet / Opus)
# - Sonnet 3.5 (stable): claude-3-5-sonnet-20241022
# - Sonnet 3.5 (alias):  claude-3-5-sonnet-latest
# - Opus 3 (stable):     claude-3-opus-20240229
#
# Claude 4.5 (Sonnet / Opus)
# - Opus 4.5 (stable):   claude-opus-4-5-20251101
# - Sonnet 4.5 (stable): claude-sonnet-4-5-20250929
#
# Notes
# - Some aliases (e.g., *-latest) may not be enabled for all accounts.
# - Prefer dated versions in production for reproducibility.
ANTHROPIC_MODEL="claude-3-5-sonnet-20241022"
ANTHROPIC_MAX_TOKENS="2048"
ANTHROPIC_TIMEOUT_SECS="60"

# --- External Data Provider (Required for --ingest-external) ---
DATA_PROVIDER_BASE_URL=""
DATA_PROVIDER_API_KEY=""

# Optional ingest overrides
DATA_PROVIDER_FEATURES_PATH="/v1/stock_features_daily"
DATA_PROVIDER_TIMEOUT_SECS="30"
DATA_PROVIDER_RETRIES="3"

# --- KIS (Korea Investment) OpenAPI (for --ingest-kis) ---
# Production base URL:
#   https://openapi.koreainvestment.com:9443
# Sandbox base URL:
#   https://openapivts.koreainvestment.com:29443
KIS_BASE_URL="https://openapi.koreainvestment.com:9443"
KIS_APPKEY=""
KIS_APPSECRET=""

# Markets to ingest (CSV): KOSPI,KOSDAQ,KONEX
KIS_MARKETS="KOSPI,KOSDAQ"

# Simple client-side throttling (milliseconds between requests)
KIS_REQ_DELAY_MS="150"

# Dev knobs
# Cap number of tickers ingested (useful for local/dev validation)
# KIS_MAX_TICKERS="300"
# Progress log cadence (set to 0 to disable)
# KIS_PROGRESS_EVERY="200"

# --- Worker / Universe (Optional) ---
UNIVERSE_SIZE="200"
UNIVERSE_MIN_TRADING_VALUE=""
UNIVERSE_OVERSAMPLE="5"

# Set to any value to bypass DB and use deterministic stub candidates
TOOTOO_USE_STUB_UNIVERSE=""

# --- Market date (Optional) ---
KR_MARKET_HOLIDAYS=""

# --- Observability / Logging (Optional) ---
SENTRY_DSN=""
RUST_LOG="info"

# --- API server (Optional) ---
PORT="3000"

# --- Currently unused placeholders (safe to omit) ---
SUPABASE_URL=""
SUPABASE_SERVICE_ROLE_KEY=""
OPENAI_API_KEY=""
